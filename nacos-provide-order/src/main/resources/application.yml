spring:
  cloud:
    alibaba:
      seata:
        # 配置服务分组
        tx-service-group: default_tx_group
    nacos:
      discovery:
        server-addr: ${NACOS_HOST}:${NACOS_PORT}
        namespace: ${NACOS_NAMESPACE}
        username: ${NACOS_USERNAME}
        password: ${NACOS_PASSWORD}
  datasource:
    url: jdbc:mysql://${MYSQL_IP}:${MYSQL_PORT}/seata_order?useSSL=false&characterEncoding=UTF-8&serverTimezone=Asia/Shanghai&allowPublicKeyRetrieval=true
    username: ${MYSQL_USERNAME}
    password: ${MYSQL_PASSWORD}
    driver-class-name: com.mysql.cj.jdbc.Driver
  application:
    name: nacos-provide-order
server:
  port: 8040
seata:
  config:
    type: nacos
    nacos:
      server-addr: ${NACOS_HOST}:${NACOS_PORT}
      group: SEATA_GROUP
      namespace: ${NACOS_NAMESPACE}
      username: ${NACOS_USERNAME}
      password: ${NACOS_PASSWORD}
  registry:
    type: nacos
    nacos:
      application: seata-server
      server-addr: ${NACOS_HOST}:${NACOS_PORT}
      group: SEATA_GROUP
      namespace: ${NACOS_NAMESPACE}
      username: ${NACOS_USERNAME}
      password: ${NACOS_PASSWORD}
  enable-auto-data-source-proxy: false
  data-source-proxy-mode: NONE
nacos:
  config:
    server-addr: ${NACOS_HOST}:${NACOS_PORT}
    namespace: ${NACOS_NAMESPACE}
logging:
  level:
    # 生成与执行回滚SQL的关键包
    io.seata.rm.datasource.exec: debug
    io.seata.rm.datasource.undo: debug
    io.seata.rm.datasource.sql: debug
    # 连接代理与语句代理（有时有助于看到执行顺序）
    io.seata.rm.datasource.ConnectionProxy: debug
    io.seata.rm.datasource.StatementProxy: debug
    io.seata.rm.datasource.PreparedStatementProxy: debug

